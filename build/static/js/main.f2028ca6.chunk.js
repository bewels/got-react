(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(45)},38:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=n(4),u=n(5),i=n(8),s=n(7),m=n(9),f=n(2),h=n(48),d=n(46),p=n(47),g=n(3);function v(){var e=Object(f.a)(["\n    display: flex;\n    margin: 0;\n    align-items: center;\n    color: #fff;\n    list-style-type: none;\n    li {\n        margin-right: 20px;\n        font-size: 18px;\n    }\n"]);return v=function(){return e},e}function b(){var e=Object(f.a)(["\n    font-size: 24px;\n    color: #fff;\n    margin: 0;\n"]);return b=function(){return e},e}function E(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 80px;\n"]);return E=function(){return e},e}var j=g.a.div(E()),x=g.a.h3(b()),y=(g.a.ul(v()),function(){return r.a.createElement(j,null,r.a.createElement(x,null,r.a.createElement("a",{href:"#"},"Game of Thrones DB")))}),C=n(13),O=n.n(C),w=n(17),k=function(){function e(){Object(o.a)(this,e),this._apiBase="https://www.anapioficeandfire.com/api"}return Object(u.a)(e,[{key:"getResource",value:function(){var e=Object(w.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Error \u0437\u0430\u043f\u0440\u043e\u0441 ".concat(t," \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u043b. \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCharacters",value:function(e,t){return this.getResource("/characters?page=".concat(e,"&pageSize=").concat(t))}},{key:"getCharacters",value:function(){var e=Object(w.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/characters/".concat(t));case 2:return n=e.sent,e.abrupt("return",this._transformCharacter(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getHouses",value:function(e){return this.getResource("/houses/".concat(e))}},{key:"getBooks",value:function(){return this.getResource("/characters/")}},{key:"_transformCharacter",value:function(e){return{name:e.name?e.name:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",gender:e.gender?e.gender:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",born:e.born?e.born:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",died:e.died?e.died:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",culture:e.culture?e.culture:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}}}]),e}(),N=(n(38),function(){return r.a.createElement("div",{className:"loadingio-spinner-rolling-1wwvkxles7o"},r.a.createElement("div",{className:"ldio-gx65l53wdlf"},r.a.createElement("div",null)))}),S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Error"),r.a.createElement("button",{className:"btn",onClick:(void 0).updateChar}))};function I(){var e=Object(f.a)(["\n    font-weight: bold;\n"]);return I=function(){return e},e}function B(){var e=Object(f.a)(["\n    margin-bottom: 20px;\n    text-align: center;\n"]);return B=function(){return e},e}function D(){var e=Object(f.a)(["\n    background-color: #fff;\n    padding: 25px 25px 15px 25px;\n    margin-bottom: 40px;\n"]);return D=function(){return e},e}var q=g.a.div(D()),z=g.a.h4(B()),A=g.a.span(I()),R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).gotService=new k,n.state={char:{},loading:!0,error:!1},n.onCharLoaded=function(e){n.setState({char:e,loading:!1,error:!1})},n.onError=function(){n.setState({error:!0})},n.updateChar=function(){var e=Math.floor(2100*Math.random()+25);n.gotService.getCharacters(e).then(n.onCharLoaded).catch(n.onError)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateChar(),this.timerId=setInterval(this.updateChar,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.char,n=e.loading,a=e.error,c=n?r.a.createElement(N,null):null,l=a?r.a.createElement(S,null):null,o=n||a?null:r.a.createElement(L,{char:t});return r.a.createElement(q,{className:"random-block rounded"},c,l,o)}}]),t}(a.Component),L=function(e){var t=e.char,n=t.name,a=t.gender,c=t.born,l=t.died,o=t.culture;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null,"Random Character: ",n),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement(A,{className:"term"},"Gender "),r.a.createElement("span",null,a)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement(A,{className:"term"},"Born "),r.a.createElement("span",null,c)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement(A,{className:"term"},"Died "),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement(A,{className:"term"},"Culture "),r.a.createElement("span",null,o))))},M=R;function _(){var e=Object(f.a)(["\n    cursor: pointer;\n"]);return _=function(){return e},e}var F=g.a.li(_()),G=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).gotService=new k,e.state={charList:null},console.log(3),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(1),this.gotService.getAllCharacters(5,3).then(function(t){e.setState({charList:t})})}},{key:"renderItem",value:function(e){var t=this;return e.map(function(e,n){return r.a.createElement(F,{key:e.url.replace(/[^\d]/g),className:"list-group-item",onClick:function(){return t.props.onCharSelect(e.url.replace(/[^\d]/g,""))}},e.name)})}},{key:"render",value:function(){var e=this.state.charList;if(console.log(2),!e)return r.a.createElement(N,null);var t=this.renderItem(e);return r.a.createElement("ul",{className:"item-list list-group"},t)}}]),t}(a.Component);function J(){var e=Object(f.a)(["\n        color: #fff;\n        text-align: center;\n        font-size: 26px;\n"]);return J=function(){return e},e}function U(){var e=Object(f.a)(["\n    margin-bottom: 20px;\n    text-align: center;\n"]);return U=function(){return e},e}function H(){var e=Object(f.a)(["\n    background-color: #fff;\n    padding: 25px 25px 15px 25px;\n    margin-bottom: 40px;\n"]);return H=function(){return e},e}var T=g.a.div(H()),W=g.a.h4(U()),K=g.a.span(J()),P=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={char:null,loading:!0},n.gotService=new k,n.requestItem=function(){var e=n.props.itemId;e&&n.gotService.getCharacters(e).then(function(e){n.setState({char:e,loading:!1})})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.requestItem()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.requestItem()}},{key:"render",value:function(){if(!this.state.char)return r.a.createElement(K,null,"Error");var e=this.state,t=e.char,n=t.name,a=t.gender,c=t.born,l=t.died,o=t.culture;return e.loading?r.a.createElement(T,{className:"rounded"},r.a.createElement(N,null)):r.a.createElement(T,{className:"rounded"},r.a.createElement(W,null,n),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender"),r.a.createElement("span",null,a)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Born"),r.a.createElement("span",null,c)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Died"),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Culture"),r.a.createElement("span",null,o))))}}]),t}(a.Component),Q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={selectedChar:null},n.onCharSelect=function(e){n.setState({selectedChar:e})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.randomChar,e.selectedChar);return r.a.createElement(d.a,null,r.a.createElement(p.a,{md:"6"},r.a.createElement(G,{onCharSelect:this.onCharSelect})),r.a.createElement(p.a,{md:"6"},r.a.createElement(P,{itemId:t})))}}]),t}(r.a.Component);function V(){var e=Object(f.a)(['\n    position: relative;\n    display: block;\n    padding: 5px;\n    border: 2px solid aqua;\n    background-color: transparent;\n    color: aqua;\n    font-weight: 700;\n    border-radius: 5px;\n    outline: none;\n    margin: 15px 0;\n    :after {\n        content: "";\n        position: absolute;\n        width: 0%;\n        height: 100%\n        z-index: -1;\n        top: 0;\n        left: 0;\n        background: aqua;\n        transition: .2s ease;\n    }\n    :hover:after{\n        width: 100%;\n        color: white;\n    }\n    :hover {\n        color: #1c7b92;\n    }\n    :focus{\n        outline:none;\n    }\n']);return V=function(){return e},e}var X=g.a.button(V()),Y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={randomChar:!0,selectedChar:null},n.togglerandomChar=function(){n.setState(function(e){return{randomChar:!e.randomChar}})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.randomChar,n=(e.selectedChar,t?r.a.createElement(M,null):null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(y,null)),r.a.createElement(h.a,null,r.a.createElement(d.a,null,r.a.createElement(p.a,{lg:{size:5,offset:0}},n)),r.a.createElement(X,{onClick:this.togglerandomChar},"\u0421\u043a\u0440\u044b\u0442\u044c"),r.a.createElement(Q,null)))}}]),t}(r.a.Component);n(41),n(43);l.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.f2028ca6.chunk.js.map